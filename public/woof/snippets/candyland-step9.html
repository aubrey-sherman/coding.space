<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/gh/stevekrouse/WoofJS@cb6d0621/dist/woof.js"></script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Candyland Step 9</title>
</head>
<body>

<script>
//Candy Jump
//1. create a character and a background for your game 
var dino = new Image({
    url: "../images/candyland-mint.png",
    height: 200,
    width: 200,
    y: 0,
    x: -400
})
setBackdropURL("../images/candyland-backdrop.jpg")

//2. Create a score that will increase with time. 
var timer = 0;
var timer_text = new Text({
    text: () => "Score: " + timer,
    y: 300,
    fontFamily: "Arial Black",
    size: 50,
    color: "#e04386"
})
every(.1, "seconds", () => {
    timer++
})
 
var speed = 0;
var jump = true;

forever(() => {
  //3. make your character spin 
    dino.turnRight(5),
  //4. have your character fall with realistic gravity    
        dino.y += speed
    if (dino.y > minY + 300) {
        speed -= .35;
        jump = false
    }
  //5. create an invisable "floor" for your character
    if (dino.y < minY + 300) {
        jump = true
    }
    if (dino.y < minY + 300) {
        speed = 0
    }
  //6. have your character jump when the space key is pressed
    if (keysDown.includes('SPACE') && jump == true) {
        speed = 20
    }
})

// 7. Create an obstacle 
var clone = new Image({
        url: "../images/candyland-obstacle.png",
        height: 200,
        width: 200,
        x: 600,
  //8. have it generate at a random y position
        y: random(-120, 100)
     })

// //9. Have the obstacle move across the screen and return to the right edge of the screen when it passes minX
// //10. Have the obstacles speed up as score goes up
forever(() => {
        clone.x += - random(1,4)
        if (clone.x < minX) {
            clone.x = maxX + 100
            clone.y = random(-120,120)
        }
     })

</script>
</body>
</html>