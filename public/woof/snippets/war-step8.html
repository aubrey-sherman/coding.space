<head>
<script src="https://cdn.jsdelivr.net/gh/stevekrouse/WoofJS@703b2ce1/dist/woof.js"></script>
<title>War Step 8</title>
</head>
<body>
<script>

var goToGround = (sprite) => {
  if (sprite.radius)
    sprite.y = groundLine + sprite.radius;
  else
    sprite.y = groundLine + sprite.height / 2;
};

setBackdropURL("../images/war-backdrop.png");

var groundLine = (minY + height / 5);

var middle = new Rectangle({
  color: "#223388",
  width: width / 3,
  height: height / 4,
  y: (groundLine + height / 8) - 1
});

var shooterP1 = new Image({
  url: "../images/war-cannon1.png",
  width: 50,
  height: 20,
  x: minX + 40
});
goToGround(shooterP1);

var shieldP1 = new Circle({
  brightness: 50,
  color: "#DD3513",
  radius: 100,
  x: shooterP1.x,
  y: shooterP1.y - 20
});

var ballP1 = new Circle({
  color: "#DD3513",
  radius: 10,
  x: minX + 50,
  showing: false
});

var bottom = new Rectangle({
  color: "#223388",
  width: width,
  height: height / 5,
  y: groundLine - height / 10
});

var aimLine = new Line({});

onMouseDown(() => {
  aimLine.x1 = mouseX;
  aimLine.y1 = mouseY;
});

onMouseMove(() => {
  if (mouseDown) {
    aimLine.x = mouseX;
    aimLine.y = mouseY;
    shooterP1.angle = aimLine.angle;
  }
});

</script>  
</body>
